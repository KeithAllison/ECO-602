---
title: "Data Exploration and deterministic functions"
author: "Keith Allison"
date: "9/15/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(here)
library(tidyverse)
dat_habitat <- read.csv("data/hab.sta.csv")
```


**Q1: Terrain Histograms**


```{r}
par(mfrow = c(1, 3))
hist(dat_habitat$slope, main = "Histogram of Slope", xlab = "slope")
hist(dat_habitat$aspect, main = "Histogram of Aspect", xlab = "aspect", breaks = 30, xlim = range(0:360))
hist(dat_habitat$elev, main = "Histogram of Elevation", xlab = "elevation" )
```


**Q2: Elevation Histogram Interpretation**


The elevation sampling sites are not evenly distributed. There are more low elevation sites sampled than high elevation sites. The number of sites peaks at around an elevation of 400 and the number of sites decrease as the elevation goes up or down.


**Q3: Slope units**


The units for slope are in percent slope [numeric 0- 110]


**Q4: Slope Histogram Interpretation**


Most of the sample sites are not flat (slope % of 0). The number of sites is highest from a slope of 40 to 70. The frequency of sites of each slope increases from 0 to around 40, remains constant until 70 and then rapidly declines after 80 slope.


**Q5: Aspect**


Aspect is the direction(in degrees) of the greatest downslope from the site.


**Q6: Aspect Histogram Interpretation**


 aspect of the sampling sites seem to be relatively evenly distributed. There are some peaks in the histogram, for instance around 225 and 275, but they don't seem to follow any trend that I can see.


**Q7 Terrain/Basal Area Linear Models**


```{r}
# Calculates the value of y for a linear function, given the coordinates
# of a known point (x1, y1) and the slope of the line.
line_point_slope = function(x, x1, y1, slope)
{
  get_y_intercept = 
    function(x1, y1, slope) 
      return(-(x1 * slope) + y1)
  
  linear = 
    function(x, yint, slope) 
      return(yint + x * slope)
  
  return(linear(x, get_y_intercept(x1, y1, slope), slope))
}
```


```{r}

par(mfrow = c(1, 3))
plot(
  dat_habitat$slope,
  dat_habitat$ba.tot,
  main = "Basal area and slope",
  ylab = "Total Basal Area",
  xlab = "slope"
)
curve(line_point_slope(x, x1 = 3.5, y1 = 1.25, slope = 0.4), add = TRUE)

plot(
  dat_habitat$aspect,
  dat_habitat$ba.tot,
  main = "Basal area and aspect",
  ylab = "Total Basal Area",
  xlab = "aspect"
)
curve(line_point_slope(x, x1 = 3.5, y1 = 1.25, slope = .1), add = TRUE)


plot(
  dat_habitat$elev,
  dat_habitat$ba.tot,
  main = "Basal area and elevation",
  ylab = "Total Basal Area",
  xlab = "elevation"
)
curve(line_point_slope(x, x1 = 1, y1 = 0, slope = .07), add = TRUE)
```

**Q8 Terrain/Basal Model Interpretation**


I don't really see a noticeable association in any of the terrain variables with total basal area. Based on visual assessment, I don't think my linear model is a good fit for the data because the none of the terrain variables seem to correlated with basal area variable. They seem to show clustering based on their own distributions, but I can't see any linear trends. They certainly are not clustered around the lines that I created.

